{% extends 'core/base.html' %}
{% load static %}

{% block header %}{{ candidate.first_name }} {{ candidate.last_name }}{% endblock %}

{% block extra_head %}
<style>
.stage-color {
    background-color: var(--stage-color);
    color: var(--stage-color);
    opacity: 0.2;
}

.pipeline-stage {
    position: relative;
    flex: 1;
}

.pipeline-stage-name {
    white-space: nowrap;
    font-size: 0.75rem;
    font-weight: 500;
    color: #6B7280;
    position: absolute;
    bottom: -1.5rem;
    left: 50%;
    transform: translateX(-50%);
}

.stage-line {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 2px;
    background-color: #E5E7EB;
}

.stage-marker {
    position: relative;
    z-index: 1;
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.875rem;
    font-weight: 500;
}

.stage-marker.current {
    background-color: #2563EB;
    color: white;
}

.stage-marker.completed {
    background-color: #10B981;
    color: white;
}

.stage-marker.pending {
    background-color: #E5E7EB;
    color: #6B7280;
}
</style>
{% endblock %}

{% block content %}
<!-- Top Navigation Bar -->
<div class="bg-white border-b border-gray-200">
    <div class="container mx-auto px-4 py-4">
        <div class="flex items-center justify-between">
            <div class="flex items-center">
                <a href="{% url 'position_recruiting_process' position.id %}" class="text-gray-500 hover:text-gray-700 mr-4">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                    </svg>
                </a>
                <h1 class="text-lg font-medium text-gray-900">Candidate Profile for {{ position.title }}</h1>
            </div>
            <div class="flex items-center space-x-4">
                {% if process.cv_match %}
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
                    <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                    {{ process.cv_match }}% Match
                </span>
                {% endif %}
                {% if process.interview_score %}
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    {{ process.interview_score }}/10 Score
                </span>
                {% endif %}
                <button class="inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50">
                    <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
                    </svg>
                    Share
                </button>
                <button class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700">
                    <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                    Send to Client
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Main Content -->
<div class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-6">
        <div class="grid grid-cols-3 gap-8">
            <!-- Left Column (2 cols) -->
            <div class="col-span-2 space-y-6">
                <!-- Candidate Info Section -->
                <div class="bg-white rounded-lg p-6">
                    <div class="flex items-start justify-between">
                        <div class="flex items-start space-x-4">
                            <!-- Candidate Photo/Initials -->
                            <div class="w-24 h-24 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 text-3xl font-medium">
                                {{ candidate.first_name.0 }}{{ candidate.last_name.0 }}
                            </div>
                            
                            <div>
                                <div class="flex items-center gap-3 mb-1">
                                    <h2 class="text-2xl font-semibold text-gray-900">{{ candidate.first_name }} {{ candidate.last_name }}</h2>
                                    <span class="px-2 py-1 text-sm bg-purple-100 text-purple-700 rounded-full">{{ candidate.source }}</span>
                                </div>
                                
                                <p class="text-gray-600 mb-2">{{ position.title }}</p>
                                
                                <div class="flex items-center text-gray-600">
                                    <span>For</span>
                                    <a href="{% url 'position_overview' position.id %}" class="text-blue-600 hover:text-blue-700 mx-1">{{ position.title }}</a>
                                    <span class="mx-1">•</span>
                                    <span>Client:</span>
                                    <span class="ml-1">{{ position.client.name }}</span>
                                </div>

                                <div class="flex items-center gap-3 mt-4">
                                    <button class="inline-flex items-center px-4 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium">
                                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                        </svg>
                                        Technical Interview
                                    </button>
                                    <button class="p-2 text-gray-400 hover:text-gray-500">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                        </svg>
                                    </button>
                                </div>

                                <div class="flex items-center gap-2 mt-4">
                                    <a href="#" class="text-gray-600 hover:text-blue-600">
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                                        </svg>
                                    </a>
                                    <a href="#" class="text-gray-600 hover:text-gray-900">
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <div class="text-right">
                            <p class="text-sm text-gray-500">Application ID</p>
                            <p class="font-mono text-gray-900">#APP-{{ process.id }}</p>
                        </div>
                    </div>

                    <!-- Contact Info Grid -->
                    <div class="grid grid-cols-3 gap-8 mt-8">
                        <!-- Location -->
                        <div>
                            <p class="text-sm text-gray-500 mb-1">Location</p>
                            <div class="flex items-center">
                                <svg class="w-5 h-5 text-gray-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                                <span class="text-gray-900">{{ position.location|default:"Not specified" }}</span>
                            </div>
                        </div>

                        <!-- Email -->
                        <div>
                            <p class="text-sm text-gray-500 mb-1">Email</p>
                            <div class="flex items-center">
                                <svg class="w-5 h-5 text-gray-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                </svg>
                                <span class="text-gray-900">{{ candidate.email }}</span>
                            </div>
                        </div>

                        <!-- Phone -->
                        <div>
                            <p class="text-sm text-gray-500 mb-1">Phone</p>
                            <div class="flex items-center">
                                <svg class="w-5 h-5 text-gray-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                                </svg>
                                <span class="text-gray-900">{{ candidate.phone }}</span>
                            </div>
                        </div>

                        <!-- Experience -->
                        <div>
                            <p class="text-sm text-gray-500 mb-1">Experience</p>
                            <div class="flex items-center">
                                <svg class="w-5 h-5 text-gray-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                </svg>
                                <span class="text-gray-900">{{ position.experience_years|default:"Not specified" }}</span>
                            </div>
                        </div>

                        <!-- Source -->
                        <div>
                            <p class="text-sm text-gray-500 mb-1">Source</p>
                            <div class="flex items-center">
                                <svg class="w-5 h-5 text-gray-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                                </svg>
                                <span class="text-gray-900">{{ candidate.source }}</span>
                            </div>
                        </div>

                        <!-- Recruiter -->
                        <div>
                            <p class="text-sm text-gray-500 mb-1">Recruiter</p>
                            <div class="flex items-center">
                                <svg class="w-5 h-5 text-gray-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                </svg>
                                <span class="text-gray-900">{{ candidate.consultant.name|default:"Not assigned" }}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Job Description Match Section -->
                <div class="bg-white rounded-lg p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-medium text-gray-900">Job Description Match</h2>
                        <div class="flex items-center space-x-2">
                            <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium">85% Match</span>
                            <button class="text-blue-600 hover:text-blue-700 text-sm">View Details</button>
                        </div>
                    </div>

                    <div class="space-y-6">
                        <!-- Required Skills Match -->
                        <div>
                            <h3 class="text-sm font-medium text-gray-700 mb-2">Required Skills Match</h3>
                            <div class="space-y-2">
                                <div>
                                    <div class="flex items-center justify-between text-sm">
                                        <span class="text-gray-600">React.js</span>
                                        <span class="text-gray-900">95%</span>
                                    </div>
                                    <div class="mt-1 h-2 bg-gray-200 rounded-full">
                                        <div class="h-2 bg-green-500 rounded-full" style="width: 95%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Experience Match -->
                        <div>
                            <h3 class="text-sm font-medium text-gray-700 mb-2">Experience Match</h3>
                            <div class="space-y-2">
                                <div>
                                    <div class="flex items-center justify-between text-sm">
                                        <span class="text-gray-600">Years of Experience</span>
                                        <span class="text-gray-900">100%</span>
                                    </div>
                                    <div class="mt-1 h-2 bg-gray-200 rounded-full">
                                        <div class="h-2 bg-green-500 rounded-full" style="width: 100%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Additional Skills -->
                        <div>
                            <h3 class="text-sm font-medium text-gray-700 mb-2">Additional Skills</h3>
                            <div class="flex flex-wrap gap-2">
                                <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">TypeScript</span>
                                <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">Node.js</span>
                                <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">Vue.js</span>
                                <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">AWS</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Interview Assessment Section -->
                <div class="bg-white rounded-lg p-6 mt-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-medium text-gray-900">Interview Assessment</h2>
                        <div class="flex items-center space-x-4">
                            <a href="#" class="text-blue-600 hover:text-blue-700 flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                </svg>
                                View Recording
                            </a>
                            <a href="#" class="text-blue-600 hover:text-blue-700 flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                </svg>
                                View Full Report
                            </a>
                        </div>
                    </div>

                    <!-- Interviewer Info -->
                    <div class="flex items-center mb-6 bg-gray-100 p-4 rounded-lg">
                        <div class="flex items-center">
                            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-lg font-medium">
                                CN
                            </div>
                            <div class="ml-4">
                                <h3 class="text-gray-900 font-medium">Calin Neagu</h3>
                                <p class="text-gray-500 text-sm">Senior Recruiter</p>
                            </div>
                        </div>
                        <div class="ml-auto text-right">
                            <p class="text-gray-500">Interview Date</p>
                            <p class="text-gray-900 font-medium">Jan 21, 2025 • 2:00 PM PST</p>
                        </div>
                    </div>

                    <!-- Overall Assessment Score -->
                    <div class="mb-8">
                        <div class="flex items-center justify-between mb-2">
                            <h3 class="text-gray-900 font-medium">Overall Assessment Score</h3>
                            <span class="text-2xl font-semibold text-green-600">8.3<span class="text-gray-500 text-lg">/10</span></span>
                        </div>
                    </div>

                    <!-- Assessment Categories -->
                    <div class="grid grid-cols-2 gap-6">
                        <!-- Technical Skills -->
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-gray-700">Technical Skills</span>
                                <span class="text-gray-900 font-medium">9/10</span>
                            </div>
                            <div class="h-2 bg-gray-200 rounded-full">
                                <div class="h-2 bg-green-500 rounded-full" style="width: 90%"></div>
                            </div>
                        </div>

                        <!-- Team Collaboration -->
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-gray-700">Team Collaboration</span>
                                <span class="text-gray-900 font-medium">8/10</span>
                            </div>
                            <div class="h-2 bg-gray-200 rounded-full">
                                <div class="h-2 bg-green-500 rounded-full" style="width: 80%"></div>
                            </div>
                        </div>

                        <!-- Problem Solving -->
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-gray-700">Problem Solving</span>
                                <span class="text-gray-900 font-medium">8/10</span>
                            </div>
                            <div class="h-2 bg-gray-200 rounded-full">
                                <div class="h-2 bg-green-500 rounded-full" style="width: 80%"></div>
                            </div>
                        </div>

                        <!-- Leadership -->
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-gray-700">Leadership</span>
                                <span class="text-gray-900 font-medium">7/10</span>
                            </div>
                            <div class="h-2 bg-gray-200 rounded-full">
                                <div class="h-2 bg-green-500 rounded-full" style="width: 70%"></div>
                            </div>
                        </div>

                        <!-- Communication -->
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-gray-700">Communication</span>
                                <span class="text-gray-900 font-medium">9/10</span>
                            </div>
                            <div class="h-2 bg-gray-200 rounded-full">
                                <div class="h-2 bg-green-500 rounded-full" style="width: 90%"></div>
                            </div>
                        </div>

                        <!-- Culture Fit -->
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-gray-700">Culture Fit</span>
                                <span class="text-gray-900 font-medium">9/10</span>
                            </div>
                            <div class="h-2 bg-gray-200 rounded-full">
                                <div class="h-2 bg-green-500 rounded-full" style="width: 90%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Professional Experience Section -->
                <div class="bg-white rounded-lg p-6 mt-6">
                    <h2 class="text-lg font-medium text-gray-900 mb-6">Professional Experience & Skills</h2>
                    
                    <!-- Google Position -->
                    <div class="mb-8">
                        <div class="flex items-center mb-4">
                            <div class="flex-shrink-0 w-8 h-8 bg-blue-100 rounded flex items-center justify-center">
                                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                </svg>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-gray-900 font-medium">Senior Frontend Developer</h3>
                                <p class="text-gray-500">Google • 2020 - Present</p>
                            </div>
                            <div class="ml-auto flex space-x-2">
                                <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">Team Lead</span>
                                <span class="px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm">Architecture</span>
                            </div>
                        </div>
                        
                        <!-- Role Details -->
                        <div class="ml-12 space-y-4">
                            <div>
                                <h4 class="text-sm font-medium text-gray-700 mb-2">Key Responsibilities</h4>
                                <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                                    <li>Led a team of 5 frontend developers in building and maintaining large-scale web applications</li>
                                    <li>Architected and implemented new features using React.js and TypeScript</li>
                                    <li>Improved application performance by 40% through code optimization</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="text-sm font-medium text-gray-700 mb-2">Technologies Used</h4>
                                <div class="flex flex-wrap gap-2">
                                    <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">React.js</span>
                                    <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">TypeScript</span>
                                    <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">Redux</span>
                                    <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">GraphQL</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Microsoft Position -->
                    <div>
                        <div class="flex items-center mb-4">
                            <div class="flex-shrink-0 w-8 h-8 bg-blue-100 rounded flex items-center justify-center">
                                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                </svg>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-gray-900 font-medium">Frontend Developer</h3>
                                <p class="text-gray-500">Microsoft • 2017 - 2020</p>
                            </div>
                            <div class="ml-auto flex space-x-2">
                                <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">Performance</span>
                            </div>
                        </div>
                        
                        <!-- Role Details -->
                        <div class="ml-12 space-y-4">
                            <div>
                                <h4 class="text-sm font-medium text-gray-700 mb-2">Key Responsibilities</h4>
                                <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                                    <li>Developed and maintained frontend components for Microsoft Teams</li>
                                    <li>Collaborated with UX designers to implement responsive designs</li>
                                    <li>Mentored junior developers and conducted code reviews</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="text-sm font-medium text-gray-700 mb-2">Technologies Used</h4>
                                <div class="flex flex-wrap gap-2">
                                    <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">JavaScript</span>
                                    <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">React.js</span>
                                    <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">CSS3</span>
                                    <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">Azure</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr class="my-6 border-gray-200">

                    <!-- Languages & Certifications -->
                    <h2 class="text-lg font-medium text-gray-900 mb-6">Languages & Certifications</h2>
                    
                    <div class="grid grid-cols-2 gap-8">
                        <!-- Languages -->
                        <div>
                            <h3 class="text-sm font-medium text-gray-700 mb-4">Languages</h3>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between">
                                    <span class="text-gray-900">English</span>
                                    <span class="text-gray-600">Native</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-gray-900">Spanish</span>
                                    <span class="text-gray-600">Professional</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-gray-900">French</span>
                                    <span class="text-gray-600">Basic</span>
                                </div>
                            </div>
                        </div>

                        <!-- Certifications -->
                        <div>
                            <h3 class="text-sm font-medium text-gray-700 mb-4">Certifications</h3>
                            <div class="space-y-3">
                                <div class="flex items-center">
                                    <span class="text-amber-400 mr-2">⭐</span>
                                    <span class="text-gray-900">AWS Certified Developer</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="text-amber-400 mr-2">⭐</span>
                                    <span class="text-gray-900">Google Cloud Professional</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="text-amber-400 mr-2">⭐</span>
                                    <span class="text-gray-900">React Advanced Certification</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="col-span-1 space-y-6">
                <!-- Quick Actions Section -->
                <div class="bg-white rounded-lg p-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-6">Quick Actions</h2>
                    <div class="space-y-3">
                        <button class="w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                            Schedule Candidate Interview
                        </button>
                        
                        <button class="w-full flex items-center justify-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                            Schedule Interview with Client
                        </button>
                        
                        <button class="w-full flex items-center justify-center px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                            </svg>
                            Download Neurony Candidate CV
                        </button>
                        
                        <button class="w-full flex items-center justify-center px-4 py-2 bg-purple-50 text-purple-600 rounded-lg hover:bg-purple-100">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            Send Email
                        </button>
                    </div>
                </div>

                <!-- Calendly Link Section -->
                <div class="bg-white rounded-lg p-6">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-sm font-medium text-gray-700">Calendly Link</h3>
                        <button class="text-blue-600 hover:text-blue-700">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                            </svg>
                        </button>
                    </div>
                    <p class="text-sm text-gray-600 truncate">https://calendly.com/alex-beciu/interview</p>
                </div>

                <!-- Reminders & To-Dos Section -->
                <div class="bg-white rounded-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-sm font-medium text-gray-700">Reminders & To-Dos</h3>
                        <button class="text-orange-600 hover:text-orange-700 text-sm font-medium flex items-center">
                            <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
                            </svg>
                            Set Reminder
                        </button>
                    </div>
                    <div class="space-y-2">
                        <label class="flex items-center">
                            <input type="checkbox" class="form-checkbox h-4 w-4 text-green-600">
                            <span class="ml-2 text-sm text-gray-700">Send technical assessment to Keysight</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" class="form-checkbox h-4 w-4 text-green-600">
                            <span class="ml-2 text-sm text-gray-700">Send follow-up mail</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" class="form-checkbox h-4 w-4 text-green-600">
                            <span class="ml-2 text-sm text-gray-700">Follow-up call - Absent at interview</span>
                        </label>
                    </div>
                    <button class="mt-3 w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50">
                        + Add To-Do
                    </button>
                </div>

                <!-- Application Status Section -->
                <div class="bg-white rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-6">Application Status</h3>
                    <div class="space-y-8">
                        <!-- Initial Screening -->
                        <div class="relative">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center">
                                    <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                    </svg>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-sm font-medium text-gray-900">Initial Screening</h4>
                                    <p class="text-sm text-gray-500">Jan 15, 2025 - Completed</p>
                                    <p class="text-sm text-gray-500">30min call with Calin Neagu</p>
                                </div>
                            </div>
                        </div>

                        <!-- HR Discussion -->
                        <div class="relative">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center">
                                    <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                    </svg>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-sm font-medium text-gray-900">HR Discussion</h4>
                                    <p class="text-sm text-gray-500">Jan 18, 2025 - Completed</p>
                                    <p class="text-sm text-gray-500">1h call with Keysight HR</p>
                                </div>
                            </div>
                        </div>

                        <!-- Technical Interview -->
                        <div class="relative">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center">
                                    <span class="text-white font-medium">3</span>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-sm font-medium text-gray-900">Technical Interview</h4>
                                    <p class="text-sm text-gray-500">Jan 21, 2025 - In Progress</p>
                                    <p class="text-sm text-gray-500">1.5hr with Senior Engineers</p>
                                    <p class="text-sm text-blue-600 mt-1">4 days in current stage</p>
                                </div>
                            </div>
                        </div>

                        <!-- Client Interview -->
                        <div class="relative">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center">
                                    <span class="text-gray-500 font-medium">4</span>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-sm font-medium text-gray-900">Client Interview</h4>
                                    <p class="text-sm text-gray-500">Scheduled - Jan 25, 2025</p>
                                    <p class="text-sm text-gray-500">1hr with Product Manager</p>
                                </div>
                            </div>
                        </div>

                        <!-- Final Decision -->
                        <div class="relative">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center">
                                    <span class="text-gray-500 font-medium">5</span>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-sm font-medium text-gray-900">Final Decision</h4>
                                    <p class="text-sm text-gray-500">Pending</p>
                                    <p class="text-sm text-gray-500">Offer discussion and negotiation</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Attachments Section -->
                <div class="bg-white rounded-lg p-6 mt-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold text-gray-900">Attachments</h3>
                        <button class="text-blue-600 hover:text-blue-700">+ Add Files</button>
                    </div>
                    <div class="space-y-3">
                        <!-- Resume -->
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                            <div class="flex items-center">
                                <svg class="w-8 h-8 text-red-500" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12.819 14.427c.064.267.077.679-.021.948-.128.351-.381.528-.754.528h-.637v-2.12h.496c.474 0 .803.173.916.644zm3.091-8.65c2.047-.479 4.805.279 6.09 1.179-1.494-1.997-5.23-5.23-5.708-5.708-7.432 1.157 1.157 1.168 1.563 4.235 1.342 5.703zm-7.457 7.955h-.546v.943h.546c.235 0 .467-.027.576-.227.067-.123.067-.366 0-.489-.109-.198-.341-.227-.576-.227zm13.547-2.732v13h-20v-24h8.409c4.858 0 3.334 8 3.334 8 3.011-.745 8.257-.42 8.257 3zm-12.108 2.761c-.16-.484-.606-.761-1.224-.761h-1.668v3.686h.907v-1.277h.761c.619 0 1.064-.277 1.224-.763.094-.292.094-.597 0-.885zm3.407-.303c-.297-.299-.711-.458-1.199-.458h-1.599v3.686h1.599c.537 0 .961-.181 1.262-.535.554-.659.586-2.035-.063-2.693zm3.701-.458h-2.628v3.686h.907v-1.472h1.49v-.732h-1.49v-.698h1.721v-.784z"/>
                                </svg>
                                <div class="ml-3">
                                    <p class="text-sm font-medium text-gray-900">Resume.pdf</p>
                                    <p class="text-sm text-gray-500">2.4 MB</p>
                                </div>
                            </div>
                            <button class="text-gray-400 hover:text-gray-500">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                                </svg>
                            </button>
                        </div>
                        <!-- Cover Letter -->
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                            <div class="flex items-center">
                                <svg class="w-8 h-8 text-blue-500" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M15.602 4.075c2.201 1.174 4.904 3.254 6.398 5.252-1.286-.9-3.044-1.657-5.091-1.179.222-1.468-.186-4.534-1.307-5.702.207.021.416.048.625.075 1.162.162 2.339.51 3.429 1.179h-.001c-2.037-2.464-4.856-3.775-6.655-3.9.546 1.062.846 2.402.846 3.204 0 .144-.015.281-.041.416.048.625.075 1.162.162 2.339.51 3.429 1.179h-.001c-2.037-2.464-4.856-3.775-6.655-3.9.546 1.062.846 2.402.846 3.204 0 .144-.015.281-.041.411-.28 1.417-1.269 2.228-2.605 2.228-1.2 0-2.137-.64-2.493-1.957-.732-.779-1.498-1.208-2.305-1.208-1.646 0-2.847 1.535-2.847 3.502 0 1.992 1.201 3.501 2.847 3.501.682 0 1.295-.276 1.841-.798-.19-.201-.35-.439-.35-.439-.649.362-1.159.441-1.491.441-.961 0-1.491-.912-1.491-2.705 0-1.767.53-2.704 1.535-2.704.555 0 1.062.311 1.572.896.872 2.249 2.726 3.354 4.615 3.354 1.76 0 3.516-.888 4.481-2.502 2.037.142 3.81 1.050 3.81 1.050l.439.597c.646 1.113 1.025 2.477 1.025 3.93 0 4.416-3.582 8-8 8s-8-3.584-8-8c0-4.416 3.582-8 8-8zm-.547 4.342c0 .563-.459 1.021-1.025 1.021-.562 0-1.025-.458-1.025-1.021 0-.562.463-1.021 1.025-1.021.566 0 1.025.459 1.025 1.021z"/>
                                </svg>
                                <div class="ml-3">
                                    <p class="text-sm font-medium text-gray-900">Cover Letter.docx</p>
                                    <p class="text-sm text-gray-500">1.8 MB</p>
                                </div>
                            </div>
                            <button class="text-gray-400 hover:text-gray-500">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Notes Section -->
                <div class="bg-white rounded-lg p-6 mt-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-6">Notes</h3>
                    
                    <!-- Existing Notes -->
                    {% for comment in comments %}
                    <div class="mb-6">
                        <div class="flex items-center mb-2">
                            <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-sm font-medium">
                                {{ comment.author.first_name.0 }}{{ comment.author.last_name.0 }}
                            </div>
                            <div class="ml-3">
                                <p class="text-sm font-medium text-gray-900">{{ comment.author.get_full_name }}</p>
                                <p class="text-xs text-gray-500">{{ comment.created_at|date:"M d, Y" }}</p>
                            </div>
                            {% if comment.author == request.user %}
                            <button onclick="deleteComment({{ comment.id }})" class="ml-auto text-gray-400 hover:text-gray-500">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>
                            {% endif %}
                        </div>
                        <p class="text-sm text-gray-600 ml-11">{{ comment.content }}</p>
                    </div>
                    {% endfor %}

                    <!-- Add Note Form -->
                    <div class="mt-4">
                        <div class="border rounded-lg">
                            <div class="px-3 py-2 border-b">
                                <div class="flex space-x-2">
                                    <button class="p-1 hover:bg-gray-100 rounded font-bold">B</button>
                                    <button class="p-1 hover:bg-gray-100 rounded italic">I</button>
                                    <button class="p-1 hover:bg-gray-100 rounded">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <textarea id="noteContent" class="w-full px-3 py-2 text-sm text-gray-700 placeholder-gray-400 focus:outline-none" rows="3" placeholder="Add a note..."></textarea>
                        </div>
                        <button onclick="addNote()" class="mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 w-full">
                            Add Note
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function addNote() {
    const content = document.getElementById('noteContent').value;
    if (!content.trim()) return;

    fetch(`/recruiting-process/{{ process.id }}/add-comment/`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
            'X-CSRFToken': '{{ csrf_token }}'
        },
        body: `content=${encodeURIComponent(content)}`
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            location.reload();
        } else {
            alert('Failed to add note: ' + data.error);
        }
    });
}

function deleteComment(commentId) {
    if (!confirm('Are you sure you want to delete this note?')) return;

    fetch(`/recruiting-process/{{ process.id }}/delete-comment/${commentId}/`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
            'X-CSRFToken': '{{ csrf_token }}',
            'X-Requested-With': 'XMLHttpRequest'
        }
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json();
    })
    .then(data => {
        if (data.success) {
            location.reload();
        } else {
            throw new Error(data.error || 'Failed to delete note');
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('Failed to delete note: ' + error.message);
    });
}
</script>
{% endblock %} 